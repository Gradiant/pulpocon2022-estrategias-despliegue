kind: ConfigMap
apiVersion: v1
metadata:
  labels:
    grafana_dashboard: "1"
  name: pulpoconf-dashboard
  namespace: monitoring
data:
  #  {  "annotations": {    "list": [      {        "builtIn": 1,        "datasource": {          "type": "grafana",          "uid": "-- Grafana --"        },        "enable": true,        "hide": true,        "iconColor": "rgba(0, 211, 255, 1)",        "name": "Annotations & Alerts",        "target": {          "limit": 100,          "matchAny": false,          "tags": [],          "type": "dashboard"        },        "type": "dashboard"      }    ]  },  "editable": true,  "fiscalYearStartMonth": 0,  "graphTooltip": 0,  "iteration": 1658156588067,  "links": [],  "liveNow": false,  "panels": [    {      "datasource": {        "type": "prometheus",        "uid": "prometheus"      },      "gridPos": {        "h": 3,        "w": 15,        "x": 0,        "y": 0      },      "id": 4,      "options": {        "content": "<a href=\"http://kubernetes-dashboard.fbi.com/#/deployment?namespace=default\" target=\"_blank\">Kubernetes Dashboard</a>",        "mode": "markdown"      },      "pluginVersion": "9.0.2",      "title": "Enlaces",      "type": "text"    },    {      "datasource": {        "type": "prometheus",        "uid": "prometheus"      },      "fieldConfig": {        "defaults": {          "color": {            "mode": "palette-classic"          },          "custom": {            "axisLabel": "",            "axisPlacement": "auto",            "axisSoftMin": 0,            "fillOpacity": 80,            "gradientMode": "none",            "hideFrom": {              "legend": false,              "tooltip": false,              "viz": false            },            "lineWidth": 1,            "scaleDistribution": {              "type": "linear"            }          },          "mappings": [],          "thresholds": {            "mode": "absolute",            "steps": [              {                "color": "green",                "value": null              },              {                "color": "red",                "value": 80              }            ]          }        },        "overrides": []      },      "gridPos": {        "h": 15,        "w": 15,        "x": 0,        "y": 3      },      "id": 2,      "options": {        "barRadius": 0,        "barWidth": 0.97,        "groupWidth": 0.7,        "legend": {          "calcs": [],          "displayMode": "list",          "placement": "bottom"        },        "orientation": "auto",        "showValue": "never",        "stacking": "normal",        "tooltip": {          "mode": "single",          "sort": "none"        },        "xTickLabelRotation": -90,        "xTickLabelSpacing": 100      },      "targets": [        {          "datasource": {            "type": "prometheus",            "uid": "prometheus"          },          "editorMode": "code",          "expr": "count(kube_pod_container_info{cluster=\"$cluster\", namespace=\"$namespace\"} and on(uid) kube_pod_status_ready{cluster=\"$cluster\", namespace=\"$namespace\",condition=\"true\"} == 1) by (image)",          "interval": "5s",          "legendFormat": "__auto",          "range": true,          "refId": "A"        }      ],      "title": "Número de Pods por versión",      "type": "barchart"    }  ],  "refresh": "",  "schemaVersion": 36,  "style": "dark",  "tags": [],  "templating": {    "list": [      {        "current": {          "isNone": true,          "selected": false,          "text": "None",          "value": ""        },        "datasource": {          "type": "prometheus",          "uid": "prometheus"        },        "definition": "label_values(up{job=\"kube-state-metrics\"}, cluster)",        "hide": 1,        "includeAll": false,        "multi": false,        "name": "cluster",        "options": [],        "query": {          "query": "label_values(up{job=\"kube-state-metrics\"}, cluster)",          "refId": "StandardVariableQuery"        },        "refresh": 1,        "regex": "",        "skipUrlSync": false,        "sort": 0,        "type": "query"      },      {        "current": {          "selected": false,          "text": "default",          "value": "default"        },        "datasource": {          "type": "prometheus",          "uid": "prometheus"        },        "definition": "label_values(kube_namespace_status_phase{job=\"kube-state-metrics\", cluster=\"$cluster\"}, namespace)",        "hide": 0,        "includeAll": false,        "multi": false,        "name": "namespace",        "options": [],        "query": {          "query": "label_values(kube_namespace_status_phase{job=\"kube-state-metrics\", cluster=\"$cluster\"}, namespace)",          "refId": "StandardVariableQuery"        },        "refresh": 2,        "regex": "",        "skipUrlSync": false,        "sort": 1,        "type": "query"      }    ]  },  "time": {    "from": "now-15m",    "to": "now"  },  "timepicker": {    "hidden": false,    "refresh_intervals": [      "5s",      "10s",      "30s",      "1m",      "5m",      "15m",      "30m",      "1h",      "2h",      "1d"    ]  },  "timezone": "",  "title": "PulpoCon2022",  "uid": "6CSAiFg4k",  "version": 2,  "weekStart": ""}
  # {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","target":{"limit":100,"matchAny":false,"tags":[],"type":"dashboard"},"type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"links":[],"liveNow":false,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":17,"x":0,"y":0},"id":6,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"count(kube_pod_container_info{cluster=\"$cluster\", namespace=\"$namespace\"}) by (image)","refId":"A"}],"title":"Numero Pods en line","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"gridPos":{"h":3,"w":15,"x":0,"y":7},"id":4,"options":{"content":"<a href=\"http://kubernetes-dashboard.fbi.com/#/deployment?namespace=default\" target=\"_blank\">Kubernetes Dashboard</a>","mode":"markdown"},"pluginVersion":"9.0.4","title":"Enlaces","type":"text"},{"datasource":{"type":"prometheus","uid":"prometheus"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","axisSoftMin":0,"fillOpacity":80,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":1,"scaleDistribution":{"type":"linear"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":15,"w":15,"x":0,"y":10},"id":2,"options":{"barRadius":0,"barWidth":0.97,"groupWidth":0.7,"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"orientation":"auto","showValue":"never","stacking":"normal","tooltip":{"mode":"single","sort":"none"},"xTickLabelRotation":-90,"xTickLabelSpacing":100},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editorMode":"code","expr":"count(kube_pod_container_info{cluster=\"$cluster\", namespace=\"$namespace\"} and on(uid) kube_pod_status_ready{cluster=\"$cluster\", namespace=\"$namespace\",condition=\"true\"} == 1) by (image)","interval":"5s","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Número de Pods por versión","type":"barchart"}],"refresh":"5s","schemaVersion":36,"style":"dark","tags":[],"templating":{"list":[{"current":{"isNone":true,"selected":false,"text":"None","value":""},"datasource":{"type":"prometheus","uid":"prometheus"},"definition":"label_values(up{job=\"kube-state-metrics\"}, cluster)","hide":1,"includeAll":false,"multi":false,"name":"cluster","options":[],"query":{"query":"label_values(up{job=\"kube-state-metrics\"}, cluster)","refId":"StandardVariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":0,"type":"query"},{"current":{"selected":false,"text":"default","value":"default"},"datasource":{"type":"prometheus","uid":"prometheus"},"definition":"label_values(kube_namespace_status_phase{job=\"kube-state-metrics\", cluster=\"$cluster\"}, namespace)","hide":0,"includeAll":false,"multi":false,"name":"namespace","options":[],"query":{"query":"label_values(kube_namespace_status_phase{job=\"kube-state-metrics\", cluster=\"$cluster\"}, namespace)","refId":"StandardVariableQuery"},"refresh":2,"regex":"","skipUrlSync":false,"sort":1,"type":"query"}]},"time":{"from":"now-15m","to":"now"},"timepicker":{"hidden":false,"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"PulpoCon2022","uid":"6CSAiFg4k","version":2,"weekStart":""}
  pulpoconf2022.json:  |-
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","target":{"limit":100,"matchAny":false,"tags":[],"type":"dashboard"},"type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":28,"links":[],"liveNow":false,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":17,"x":0,"y":0},"id":6,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"count(kube_pod_container_info{cluster=\"$cluster\", namespace=\"$namespace\"}) by (image)","refId":"A"}],"title":"Numero Pods en line","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"gridPos":{"h":3,"w":15,"x":0,"y":7},"id":4,"options":{"content":"<a href=\"http://kubernetes-dashboard.fbi.com/#/deployment?namespace=default\" target=\"_blank\">Kubernetes Dashboard</a>\n<br/>\n<a href=\"http://myapp.fbi.com/#/deployment?namespace=default\" target=\"_blank\">Application Deployed</a>","mode":"markdown"},"pluginVersion":"9.0.4","title":"Enlaces","type":"text"},{"datasource":{"type":"prometheus","uid":"prometheus"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","axisSoftMin":0,"fillOpacity":80,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":1,"scaleDistribution":{"type":"linear"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":15,"w":15,"x":0,"y":10},"id":2,"options":{"barRadius":0,"barWidth":0.97,"groupWidth":0.7,"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"orientation":"auto","showValue":"never","stacking":"normal","tooltip":{"mode":"single","sort":"none"},"xTickLabelRotation":-90,"xTickLabelSpacing":100},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editorMode":"code","expr":"count(kube_pod_container_info{cluster=\"$cluster\", namespace=\"$namespace\"} and on(uid) kube_pod_status_ready{cluster=\"$cluster\", namespace=\"$namespace\",condition=\"true\"} == 1) by (image)","interval":"5s","legendFormat":"__auto","range":true,"refId":"A"}],"title":"Número de Pods por versión","type":"barchart"}],"refresh":"5s","schemaVersion":36,"style":"dark","tags":[],"templating":{"list":[{"current":{"isNone":true,"selected":false,"text":"None","value":""},"datasource":{"type":"prometheus","uid":"prometheus"},"definition":"label_values(up{job=\"kube-state-metrics\"}, cluster)","hide":1,"includeAll":false,"multi":false,"name":"cluster","options":[],"query":{"query":"label_values(up{job=\"kube-state-metrics\"}, cluster)","refId":"StandardVariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":0,"type":"query"},{"current":{"selected":false,"text":"default","value":"default"},"datasource":{"type":"prometheus","uid":"prometheus"},"definition":"label_values(kube_namespace_status_phase{job=\"kube-state-metrics\", cluster=\"$cluster\"}, namespace)","hide":0,"includeAll":false,"multi":false,"name":"namespace","options":[],"query":{"query":"label_values(kube_namespace_status_phase{job=\"kube-state-metrics\", cluster=\"$cluster\"}, namespace)","refId":"StandardVariableQuery"},"refresh":2,"regex":"","skipUrlSync":false,"sort":1,"type":"query"}]},"time":{"from":"now-15m","to":"now"},"timepicker":{"hidden":false,"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"PulpoCon2022","uid":"dHfwufzVz","version":3,"weekStart":""}
    
